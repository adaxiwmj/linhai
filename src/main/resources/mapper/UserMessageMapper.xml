<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tencent.wxcloudrun.dao.UserMessageMapper">

    <resultMap id="userMessage" type="com.tencent.wxcloudrun.model.UserMessage">
        <id property="userId" column="user_id"/>
        <result property="messageType" column="message_type"/>
        <result property="isMessageRead" column="is_message_read"/>
        <result property="articleId" column="article_id"/>
        <result property="commentingUserId" column="commenting_user_id"/>
    </resultMap>

    <insert id="createUserMessage" parameterType="com.tencent.wxcloudrun.model.UserMessage">
        INSERT INTO `UserMessages`(`user_id`, `message_type`, `is_message_read`, `article_id`, `commenting_user_id`)
            VALUE(#{userId}, #{messageType}, #{isMessageRead}, #{articleId}, #{commentingUserId})
    </insert>

    <select id="getMyUserMessage" resultMap="userMessage" parameterType="java.lang.String">
        SELECT *
        FROM UserMessages
        WHERE user_id = #{userId}
    </select>

</mapper>